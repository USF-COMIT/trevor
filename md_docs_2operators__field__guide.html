<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TREVOR: Operator&#39;s Field Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="comit.css" rel="stylesheet" type="text/css"/>
        <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
        <script type="text/javascript">
            DoxygenAwesomeDarkModeToggle.init()
        </script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.jpeg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TREVOR
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">A ROS2 Respository for trevor specific code and doccumentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md_docs_2operators__field__guide.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Operator's Field Guide</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md11"></a> </p>
<h1><a class="anchor" id="autotoc_md12"></a>
About the control system</h1>
<p>Once installed properly, TREVOR can be almost entirely operated using the dock icons installed on the TREVOR laptop.</p>
<div class="image">
<img src="trevor_laptop.png" alt=""/>
</div>
    <h2><a class="anchor" id="autotoc_md13"></a>
A note on architecture</h2>
<p>The trevor controller is all ROS2 Based and, at the time of writing, the PROJECT11 autonomy package (including CAMP) is ROS1 based. This means that to run this system we need two versions of ROS running with a "ROS1 Bridge" running between them. From an operators perspective, this shouldn't matter much. However, for more advanced users and for system debugging this architecture is worth keeping in mind.&amp;#x20;</p>
<h1><a class="anchor" id="autotoc_md14"></a>
Starting The Vehicle</h1>
<ul>
<li>Begin by powering on the master switch located inside the TREVOR case.</li>
</ul>
<div class="image">
<img src="switch_on.gif" alt=""/>
</div>
    <ul>
<li>This will power on all devices and send a boot signal to the onboard computer.</li>
<li>Log into the onboard computer by clicking on the TREVOR ssh icon in the dock or through the application launcher.</li>
</ul>
<p><img src="ssh_icon.png" alt="" class="inline"/>    </p>
<ul>
<li>run the following command</li>
</ul>
<div class="fragment"><div class="line">trevor_ws/go_trevor.sh</div>
</div><!-- fragment --><ul>
<li>Now you can close the ssh window if you wish</li>
</ul>
<h1><a class="anchor" id="autotoc_md15"></a>
Starting the Shore Station</h1>
<ul>
<li>Ensure that the TREVOR gamepad is plugged into the shore laptop</li>
<li>Click both the TREVOR CAMP and the TREVOR Shore icons in the dock or the application launcher</li>
</ul>
<div class="image">
<img src="shore_icons.png" alt=""/>
</div>
    <ul>
<li>The CAMP launcher will open a terminal and the CAMP mission planner</li>
</ul>
<div class="image">
<img src="camp.png" alt=""/>
</div>
    <ul>
<li>The terminal contains the headless processes needed to run the shore operations and the CAMP window can be used to issue autonomous commands</li>
<li>If everything is working properly you should see a green vehicle status window.</li>
<li>The terminal may print transform warnings until the first command is issued. This is normal and expected.</li>
<li>The TREVOR Shore icon will launch the joystick controller in a terminal and an instance of RVIZ to show a 3d view of the vehicle. The RVIZ window can be closed safely if desired to reduce network bandwidth and save GPU resources.</li>
</ul>
<p><img src="rviz.png" alt="" class="inline"/>    </p>
<ul>
<li>At this point, the vehicle is ready to operate!</li>
</ul>
<h1><a class="anchor" id="autotoc_md16"></a>
Operating the vehicle</h1>
<ul>
<li>The vehicle begins in the e-stop state by default. To activate the thrusters press the green "A" button on the controller. This will activate manual control</li>
<li>You can set a thrust limit by using the D-pad. This can me useful for precise maneuvering or for testing. It applies to autonomous and manual control.&amp;#x20;<ul>
<li>Up: 100% thrust limit</li>
<li>Left: 60% thrust limit</li>
<li>Down: 25% thrust limit</li>
</ul>
</li>
<li>To begin autonomy, you can issue a move command by right-clicking on the map and selecting goto or hold position.&amp;#x20;</li>
<li>A trajectory will be drawn on the map ONLY after the command has been acknowledged by the vehicle</li>
</ul>
<p><img src="first_cmd_camp.png" alt="" class="inline"/>    </p>
<ul>
<li>(for some reason sometimes the first command needs to be issued a few times)</li>
<li>Once the command is issued and acknowledge you can press the BLUE X button on the controller. This will activate autonomous mode. The vehicle will begin traversing to the desired location. It should hold position when it arrives.</li>
</ul>
<p>Although we don't cover it here, CAMP can plan many other types of commands. You can find more details here: <a href="https://github.com/CCOMJHC/project11">https://github.com/CCOMJHC/project11</a></p>
<h1><a class="anchor" id="autotoc_md17"></a>
Advanced Features and Debugging.&amp;#x20;</h1>
<h2><a class="anchor" id="autotoc_md18"></a>
The Trevor Console</h2>
<p>By clicking the TREVOR Console icon you can open the admin features of the onboard computer.&amp;#x20;</p>
<div class="image">
<img src="console.png" alt=""/>
</div>
    <p>Using this window, you can change network configuration, look at the file system, upload/download files, and more. You can also use the terminal tab as an alternative to SSH access.</p>
<h2><a class="anchor" id="autotoc_md19"></a>
File Sharing</h2>
<p>If you want to download logs or look through the filesystem you can access TREVOR's home directory using the built in SMB server. It is pre-configured on the TREVOR control laptop. &amp;#x20;</p>
<p>You can access it by opening the file browser, clicking other locations, and clicking the TREVOR1 Network drive.</p>
<div class="image">
<img src="file_sharing.png" alt=""/>
</div>
    <h2><a class="anchor" id="autotoc_md20"></a>
ROS Tools and Debugging</h2>
<p>You can open a version of ROS 1 or 2 RQT GUI using the icons at the left. These tools allow you to see logs, read raw ROS messages, and check the status of instruments.</p>
<h3><a class="anchor" id="autotoc_md21"></a>
Checking the status of the microstrain.</h3>
<ul>
<li>click the TREVOR RQT2 Icon</li>
<li>select the plugins tab &gt; microstrain &gt; quickview (if not already open)</li>
<li>in the node namespace enter</li>
</ul>
<div class="fragment"><div class="line">/t1/nav/sensors/</div>
</div><!-- fragment --><dl class="section warning"><dt>Warning</dt><dd>The microstrain RQT gui plugin seems to hammer the network heavily. Make sure it's off when not actively in use</dd></dl>
<ul>
<li>Click OK</li>
</ul>
<div class="image">
<img src="microstrain_rqt.png" alt=""/>
</div>
    <p>Here you can see the status of the Microstrain Nav Sensor</p>
<h2><a class="anchor" id="autotoc_md22"></a>
Checking the wifi status</h2>
<p>you can access radio status throught the shore radio control pannel <a href="https://10.1.1.52/">https://10.1.1.52/</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
